(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{8392:function(e,n,t){Promise.resolve().then(t.bind(t,1034))},1034:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return D}});var a=t(7437),s=t(2265),r=t(7648),i=t(9637),l=t(7689),o=t(2735),c=t(1947),d=t(8736),m=t(9658),p=t(9397),x=t(8930);function u(e){let{files:n,currentFile:t,onFileSelect:r,onFileCreate:i,onFileDelete:l}=e,[o,u]=(0,s.useState)(""),[g,f]=(0,s.useState)(!1),h=e=>{switch(e){case"javascript":case"typescript":return(0,a.jsx)(c.Z,{size:16,className:"text-yellow-400"});case"html":return(0,a.jsx)(c.Z,{size:16,className:"text-orange-400"});case"css":return(0,a.jsx)(c.Z,{size:16,className:"text-blue-400"});case"json":return(0,a.jsx)(d.Z,{size:16,className:"text-green-400"});case"python":return(0,a.jsx)(c.Z,{size:16,className:"text-blue-500"});default:return(0,a.jsx)(m.Z,{size:16,className:"text-gray-400"})}},v=e=>({js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",html:"html",css:"css",json:"json",py:"python",md:"markdown",txt:"plaintext"})[e.split(".").pop().toLowerCase()]||"plaintext",y=()=>{if(o.trim()){let e=v(o);i({id:o,name:o,language:e,content:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),u(""),f(!1)}};return(0,a.jsxs)("div",{className:"file-explorer p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-300",children:"FILES"}),(0,a.jsx)("button",{onClick:()=>f(!g),className:"p-1 hover:bg-gray-800 rounded transition-colors",title:"New File",children:(0,a.jsx)(p.Z,{size:18})})]}),g&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("input",{type:"text",value:o,onChange:e=>u(e.target.value),onKeyPress:e=>"Enter"===e.key&&y(),placeholder:"filename.ext",className:"w-full px-2 py-1 text-sm bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-purple-500",autoFocus:!0}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,a.jsx)("button",{onClick:y,className:"px-3 py-1 text-xs bg-purple-600 hover:bg-purple-700 rounded transition-colors",children:"Create"}),(0,a.jsx)("button",{onClick:()=>{f(!1),u("")},className:"px-3 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded transition-colors",children:"Cancel"})]})]}),(0,a.jsx)("div",{className:"space-y-1",children:n.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded cursor-pointer transition-colors group ".concat((null==t?void 0:t.id)===e.id?"bg-purple-600 bg-opacity-30":"hover:bg-gray-800"),onClick:()=>r(e),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[h(e.language),(0,a.jsx)("span",{className:"text-sm truncate",children:e.name})]}),(0,a.jsx)("button",{onClick:n=>{n.stopPropagation(),confirm("Delete ".concat(e.name,"?"))&&l(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-red-600 rounded transition-all",title:"Delete",children:(0,a.jsx)(x.Z,{size:14})})]},e.id))}),0===n.length&&!g&&(0,a.jsxs)("div",{className:"text-center text-gray-500 text-sm mt-8",children:[(0,a.jsx)("p",{children:"No files yet"}),(0,a.jsx)("p",{className:"text-xs mt-2",children:"Click + to create a file"})]})]})}var g=t(166),f=t(5863);let h=(0,g.default)(()=>t.e(289).then(t.bind(t,2289)),{loadableGenerated:{webpack:()=>[2289]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)(f.Z,{className:"animate-spin",size:48})})});function v(e){let{file:n,onSave:t}=e,[r,i]=(0,s.useState)((null==n?void 0:n.content)||""),[l,o]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{i((null==n?void 0:n.content)||"")},[n]),(0,s.useEffect)(()=>{if(!n)return;let e=setTimeout(()=>{r!==n.content&&(o(!0),t({...n,content:r}),setTimeout(()=>o(!1),500))},1e3);return()=>clearTimeout(e)},[r,n,t]),n)?(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"editor-header flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"font-medium",children:n.name}),(0,a.jsx)("span",{className:"text-xs text-gray-500 uppercase",children:n.language})]}),l&&(0,a.jsxs)("span",{className:"text-xs text-green-400 flex items-center gap-2",children:[(0,a.jsx)(f.Z,{size:14,className:"animate-spin"}),"Saving..."]})]}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(h,{height:"100%",language:n.language,value:r,onChange:e=>{i(e||"")},theme:"vs-dark",options:{fontSize:14,fontFamily:"JetBrains Mono, monospace",minimap:{enabled:!0},scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"on",lineNumbers:"on",renderWhitespace:"selection",bracketPairColorization:{enabled:!0}}})})]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xl mb-2",children:"No file selected"}),(0,a.jsx)("p",{className:"text-sm",children:"Select a file from the explorer or create a new one"})]})})}var y=t(7168);function j(e){let{file:n}=e,t=(0,s.useRef)(null),[r,i]=(0,s.useState)("");return((0,s.useEffect)(()=>{if(n&&["html","css","javascript"].includes(n.language)){let e=n.content;"css"===n.language?e="\n          <!DOCTYPE html>\n          <html>\n            <head>\n              <style>".concat(n.content,'</style>\n            </head>\n            <body>\n              <h1>CSS Preview</h1>\n              <p>This is a preview of your CSS styles.</p>\n              <div class="container">\n                <div class="glass-effect">\n                  <h2>Sample Content</h2>\n                  <p>Your styles are applied to this page.</p>\n                </div>\n              </div>\n            </body>\n          </html>\n        '):"javascript"===n.language&&(e="\n          <!DOCTYPE html>\n          <html>\n            <head>\n              <style>\n                body {\n                  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                  padding: 20px;\n                  background: #1e1e1e;\n                  color: #d4d4d4;\n                }\n                #console {\n                  background: #252526;\n                  border: 1px solid #3e3e42;\n                  border-radius: 4px;\n                  padding: 15px;\n                  font-family: 'Consolas', monospace;\n                  font-size: 14px;\n                  white-space: pre-wrap;\n                  max-height: 500px;\n                  overflow-y: auto;\n                }\n                .log { color: #d4d4d4; margin: 5px 0; }\n                .error { color: #f48771; margin: 5px 0; }\n                .warn { color: #dcdcaa; margin: 5px 0; }\n              </style>\n            </head>\n            <body>\n              <h2>JavaScript Console Output</h2>\n              <div id=\"console\"></div>\n              <script>\n                const consoleDiv = document.getElementById('console');\n                const originalLog = console.log;\n                const originalError = console.error;\n                const originalWarn = console.warn;\n                \n                console.log = function(...args) {\n                  consoleDiv.innerHTML += '<div class=\"log\">' + args.join(' ') + '</div>';\n                  originalLog.apply(console, args);\n                };\n                \n                console.error = function(...args) {\n                  consoleDiv.innerHTML += '<div class=\"error\">Error: ' + args.join(' ') + '</div>';\n                  originalError.apply(console, args);\n                };\n                \n                console.warn = function(...args) {\n                  consoleDiv.innerHTML += '<div class=\"warn\">Warning: ' + args.join(' ') + '</div>';\n                  originalWarn.apply(console, args);\n                };\n                \n                try {\n                  ".concat(n.content,"\n                } catch (error) {\n                  console.error(error.message);\n                }\n              </script>\n            </body>\n          </html>\n        ")),i(e)}},[n]),n)?["html","css","javascript"].includes(n.language)?(0,a.jsxs)("div",{className:"preview-pane flex flex-col",children:[(0,a.jsxs)("div",{className:"editor-header flex items-center justify-between bg-gray-900",children:[(0,a.jsx)("span",{className:"font-medium",children:"Preview"}),(0,a.jsx)("button",{onClick:()=>{t.current&&(t.current.src=t.current.src)},className:"p-1 hover:bg-gray-800 rounded transition-colors",title:"Refresh Preview",children:(0,a.jsx)(y.Z,{size:18})})]}),(0,a.jsx)("iframe",{ref:t,srcDoc:r,className:"flex-1 w-full border-0",title:"Preview",sandbox:"allow-scripts"})]}):(0,a.jsx)("div",{className:"preview-pane flex items-center justify-center text-gray-400 bg-gray-900",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-lg mb-2",children:"Preview not available"}),(0,a.jsx)("p",{className:"text-sm",children:"Preview is only available for HTML, CSS, and JavaScript files"})]})}):(0,a.jsx)("div",{className:"preview-pane flex items-center justify-center text-gray-400",children:(0,a.jsx)("p",{children:"No file selected"})})}var b=t(960);let w="files";async function N(){return(0,b.X3)("CodeEditorDB",1,{upgrade(e){e.objectStoreNames.contains(w)||e.createObjectStore(w,{keyPath:"id"})}})}async function S(e){let n=await N();await n.put(w,{...e,updatedAt:new Date().toISOString()})}async function C(){return(await N()).getAll(w)}async function k(e){let n=await N();await n.delete(w,e)}async function E(){if(0===(await C()).length)for(let e of[{id:"welcome.html",name:"welcome.html",language:"html",content:'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Welcome to Code Editor</title>\n    <style>\n        body {\n            font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif;\n            max-width: 800px;\n            margin: 50px auto;\n            padding: 20px;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            color: white;\n        }\n        h1 {\n            text-align: center;\n            font-size: 3em;\n        }\n        .features {\n            background: rgba(255, 255, 255, 0.1);\n            backdrop-filter: blur(10px);\n            padding: 30px;\n            border-radius: 15px;\n            margin-top: 30px;\n        }\n        .feature {\n            margin: 20px 0;\n        }\n    </style>\n</head>\n<body>\n    <h1>\uD83C\uDF89 Welcome to Your Offline Code Editor!</h1>\n    <div class="features">\n        <div class="feature">\n            <h2>âœ¨ Features</h2>\n            <ul>\n                <li>Syntax highlighting for multiple languages</li>\n                <li>Offline-first with IndexedDB storage</li>\n                <li>Live preview for web files</li>\n                <li>File management system</li>\n            </ul>\n        </div>\n        <div class="feature">\n            <h2>\uD83D\uDE80 Get Started</h2>\n            <p>Create a new file or edit this one to start coding!</p>\n        </div>\n    </div>\n</body>\n</html>',createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"example.js",name:"example.js",language:"javascript",content:"// Welcome to the Code Editor!\n// This is a JavaScript example file\n\nfunction greet(name) {\n    return `Hello, ${name}! Welcome to the offline code editor.`;\n}\n\n// Try editing this code\nconsole.log(greet('Developer'));\n\n// Features:\n// - Syntax highlighting\n// - Auto-save\n// - Multiple language support\n// - Offline storage with IndexedDB\n\nconst features = [\n    'Monaco Editor (VS Code engine)',\n    'File management',\n    'Live preview',\n    'PWA support'\n];\n\nfeatures.forEach((feature, index) => {\n    console.log(`${index + 1}. ${feature}`);\n});\n",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"styles.css",name:"styles.css",language:"css",content:"/* Example CSS file */\n\n:root {\n    --primary-color: #667eea;\n    --secondary-color: #764ba2;\n    --text-color: #333;\n    --bg-color: #f5f5f5;\n}\n\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: 'Inter', sans-serif;\n    background: var(--bg-color);\n    color: var(--text-color);\n    line-height: 1.6;\n}\n\n.container {\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 20px;\n}\n\n.gradient-bg {\n    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));\n}\n\n.glass-effect {\n    background: rgba(255, 255, 255, 0.1);\n    backdrop-filter: blur(10px);\n    border-radius: 15px;\n    padding: 20px;\n}\n",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}])await S(e)}function D(){let[e,n]=(0,s.useState)([]),[t,c]=(0,s.useState)(null),[d,m]=(0,s.useState)(!0);(0,s.useEffect)(()=>{p()},[]);let p=async()=>{m(!0),await E();let e=await C();n(e),e.length>0&&!t&&c(e[0]),m(!1)},x=async e=>{await S(e),n(n=>n.map(n=>n.id===e.id?e:n)),c(e)},g=async e=>{await S(e),n(n=>[...n,e]),c(e)},f=async a=>{await k(a),n(e=>e.filter(e=>e.id!==a)),(null==t?void 0:t.id)===a&&c(e[0]||null)};return d?(0,a.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-900",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-purple-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Loading editor..."})]})}):(0,a.jsxs)("div",{className:"editor-container",children:[(0,a.jsxs)("div",{className:"editor-header flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(r.default,{href:"/",className:"flex items-center gap-2 hover:text-purple-400 transition-colors",children:[(0,a.jsx)(i.Z,{size:20}),(0,a.jsx)("span",{className:"font-semibold",children:"Portfolio"})]}),(0,a.jsx)("span",{className:"text-gray-600",children:"|"}),(0,a.jsx)("h1",{className:"text-lg font-bold text-gradient",children:"Code Editor"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>{let e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{let n=e.target.files[0];if(n){let e=new FileReader;e.onload=async e=>{try{for(let n of JSON.parse(e.target.result))await S(n);await p()}catch(e){alert("Error importing files. Please check the file format.")}},e.readAsText(n)}},e.click()},className:"px-3 py-1.5 text-sm flex items-center gap-2 hover:bg-gray-800 rounded transition-colors",title:"Import Files",children:[(0,a.jsx)(l.Z,{size:16}),"Import"]}),(0,a.jsxs)("button",{onClick:()=>{let n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),t=URL.createObjectURL(n),a=document.createElement("a");a.href=t,a.download="editor-files.json",a.click(),URL.revokeObjectURL(t)},className:"px-3 py-1.5 text-sm flex items-center gap-2 hover:bg-gray-800 rounded transition-colors",title:"Export Files",children:[(0,a.jsx)(o.Z,{size:16}),"Export"]})]})]}),(0,a.jsxs)("div",{className:"editor-main",children:[(0,a.jsx)(u,{files:e,currentFile:t,onFileSelect:e=>{c(e)},onFileCreate:g,onFileDelete:f}),(0,a.jsx)("div",{className:"editor-pane",children:(0,a.jsx)(v,{file:t,onSave:x})}),(0,a.jsx)(j,{file:t})]})]})}}},function(e){e.O(0,[451,506,971,117,744],function(){return e(e.s=8392)}),_N_E=e.O()}]);